{%- assign cookies_activated     = settings.cookie_notice_activated -%}
{%- assign cookies_color_scheme  = settings.cookie_notice_color_scheme -%}

{%- if cookies_activated or section_preview -%}
  {%- assign paragraph_text      = section.settings.paragraph_text -%}
  {%- assign button_text         = section.settings.button_text -%}

  {{ "cookie-notice-preferences.css" | asset_url | stylesheet_tag }}

  <div class="cookie-notice-preferences__container container">
    <div class="cookie-notice-preferences__inner color-{{ cookies_color_scheme.id }}{% if section_preview %} cookie-notice-preferences__inner--preview{%- endif -%}">
      <div class="cookie-notice-preferences__text bq-content rx-content text-{{- section.key -}}">
        {{- paragraph_text -}}
      </div>
      <button type="button"
        class="cookie-notice-preferences__button button button--primary button--large"
        onclick="CookieNotice.showPreferencesModal()"
      >
        {{- button_text -}}
      </button>
    </div>
  </div>
{%- endif -%}

{% schema %}
  {
    "name": "Cookie notice preferences",
    "description": "Display information about cookies notice",
    "tag": "section",
    "class": "cookie-notice-preferences",
    "settings": [
      {
        "type": "contentEditor",
        "id": "paragraph_text",
        "label": "Paragraph",
        "default": "<p>View or change your cookie preferences.</p>"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Button text",
        "default": "Cookie preferences"
      }
    ]
  }
{% endschema %}
